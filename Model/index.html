<!DOCTYPE html>


<html>


    <head>
        
    

    <title>
        Model
    </title>

    
    <link rel="icon" href="../assets/favicon.svg" sizes="any" type="image/svg+xml">
    <link href='https://fonts.googleapis.comcss?family=Source+Sans+Pro:400,300,600,400italic,700' rel='stylesheet' type='textcss'>

    
    <link rel="stylesheet" type="text/css" href="../css/reseter.min.css">
    <link rel="stylesheet" type="text/css" href="../css/simple-line-icons.min.css">
    <link rel="stylesheet" type="text/css" href="../css/fontawesome.min.css">
    <link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="../css/animate.min.css">
    <link rel="stylesheet" type="text/css" href="../css/igem-reset.css">

    
    
    
    
    <link rel="stylesheet" type="text/css" href="../css/styles.css">


    


    

    
    <script type="text/javascript" src="../js/jquery.min.js" defer></script>

    
	<script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
            },
            svg: {
                fontCache: 'global'
            }
        };
    </script>

    
    <script type="text/javascript" src="../js/jquery.sticky.min.js" defer></script>
	<script type="text/javascript" src="../js/popper.min.js" defer></script>
	<script type="text/javascript" src="../js/bootstrap.min.js" defer></script>
	<script type="text/javascript" src="../js/respond.min.js" defer></script>
	<script type="text/javascript" src="../js/asb.min.js" defer></script>
	<script type="text/javascript" src="../js/parallax.min.js" defer></script>
    <script type="text/javascript" src="../js/mathjax.min.js" defer></script>
    <script type="text/javascript" src="../js/main.js" defer></script>


    

    </head>
    <body>
        
</p>
</div>
</div>
</div>
</div>
</div>

        <div id="loader-wrapper">
    <div id="loader">
        
        <div class="starts-wrapper">
            <div class='stars-small'></div>
            <div class='stars-big'></div>
        </div>

        
        <div class="moon-wrapper">
            <div class="moon">
                <div class="disc"></div>
            </div>
        </div>

        
        <p id="loadingMessage" style="display: none;"></p>
        <script>
            var messages = [
                "Generating witty dialog...",
                "We need a new fuse...",
                "...and enjoy the elevator music...",
                "Go ahead -- hold your breath!",
                "...at least you're not on hold...",
                "Why don't you order a sandwich?",
                "It's still faster than you could draw it",
                "My other loading screen is much faster.",
                "Reconfoobling energymotron...",
                "Are we there yet?",
                "Just count to 10",
                "Don't panic...",
                "Do not run! We are your friends!",
                "Warning: Don't set yourself on fire.",
                "Creating time-loop inversion field",
                "Spinning the wheel of fortune...",
                "I'm sorry Dave, I can't do that.",
                "I feel like im supposed to be loading something...",
                "Adjusting flux capacitor...",
                "I swear it's almost done.",
                "Let's take a mindfulness minute...",
                "Cleaning off the cobwebs...",
                "Making sure all the i's have dots...",
                "Granting wishes...",
                "Time flies when youâ€™re having fun.",
                "Get some coffee and come back in ten minutes...",
                "You shall not pass! yet...",
                "Your left thumb points to the right and your right thumb points to the left.",
                "How did you get here?",
                "Wait, do you smell something burning?",
                "Computing the secret to life, the universe, and everything.",
                "Hello IT, have you tried turning it off and on again?",
                "What is the airspeed velocity of an unladen swallow?",
                "Hello, IT... Have you tried forcing an unexpected reboot?",
                "Didn't know paint dried so quickly.",
                "Twiddling thumbs...",
                "Sending data to NS-i mean, our servers.",
                "Looking for sense of humour, please hold on.",
                "A different error message? Finally, some progress!",
                "Distracted by cat gifs",
                "@todo Insert witty loading message",
                "Let's hope it's worth the wait",
                "Whatever you do, don't look behind you...",
                "Please wait... Consulting the manual...",
                "Loading funny message...",
                "Feel free to spin in your chair",
                "Help, I'm trapped in a loader!",
                "Downloading more RAM...",
                "Never let a computer know you're in a hurry.",
                "How about this weather, eh?",
                "Reading Terms and Conditions for you.",
                "Discovering new ways of making you wait...",
                "Your time is very important to us. Please wait while we ignore you...",
                "Time flies like an arrow; fruit flies like a banana",
                "Two men walked into a bar; the third ducked...",
                "TODO: Insert elevator music",
                "We're working very Hard .... Really",
                "You are number 2843684714 in the queue"
            ];
            
            var message = messages[Math.floor(Math.random() * messages.length)];
            document.getElementById("loadingMessage").innerHTML = message;
            document.getElementById("loadingMessage").style = "display: block;"
        </script>
    </div>
</div>


        
<div class="site-mobile-menu site-navbar-target">
    <div class="site-mobile-menu-header">
        <div class="site-mobile-menu-close mt-3">
            <span class="fa fa-times js-menu-toggle"></span>
        </div>
    </div>
    <div class="site-mobile-menu-body"></div>
</div>


<header class="site-navbar js-sticky-header site-navbar-target" role="banner">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-6 col-xl-2">
                
                <h1 class="mb-0 site-logo"><a href="../">
                    

                    
                        <img src="../assets/images/logo.png" alt="Brand logo">
                    
                </a></h1>
            </div>

            
            <div id="navbar-main-wrapper" class="col-12 col-md-10 d-none d-xl-block">
                <nav class="site-navigation position-relative text-right" role="navigation">

                    <ul class="site-menu main-menu js-clone-nav mr-auto d-none d-lg-block">
                        
                            
                                
                                <li class="has-children">
                                    <a href="#" class="nav-link">Project&nbsp;&nbsp;</a>
                                    <ul class="dropdown">
                                        
                                            <li><a href="../Description" class="nav-link">Description</a></li>
                                        
                                            <li><a href="../Planning" class="nav-link">Planning</a></li>
                                        
                                            <li><a href="../Engineering" class="nav-link">Engineering</a></li>
                                        
                                            <li><a href="../Model" class="nav-link">Model</a></li>
                                        
                                            <li><a href="../Results" class="nav-link">Results</a></li>
                                        
                                            <li><a href="../Contribution" class="nav-link">Contributions</a></li>
                                        
                                            <li><a href="../Implementation" class="nav-link">Implementation</a></li>
                                        
                                    </ul>
                                </li>
                            
                        
                            
                                
                                <li class="has-children">
                                    <a href="#" class="nav-link">Lab work&nbsp;&nbsp;</a>
                                    <ul class="dropdown">
                                        
                                            <li><a href="../Proof_Of_Concept" class="nav-link">Proof of concept</a></li>
                                        
                                            <li><a href="../Experiments" class="nav-link">Experiments</a></li>
                                        
                                            <li><a href="../Parts" class="nav-link">Parts</a></li>
                                        
                                            <li><a href="../Notebook" class="nav-link">Notebook</a></li>
                                        
                                            <li><a href="../Safety" class="nav-link">Safety</a></li>
                                        
                                    </ul>
                                </li>
                            
                        
                            
                                
                                <li class="has-children">
                                    <a href="#" class="nav-link">Human practices&nbsp;&nbsp;</a>
                                    <ul class="dropdown">
                                        
                                            <li><a href="../Human_Practices" class="nav-link">Human practices</a></li>
                                        
                                            <li><a href="../Communication" class="nav-link">Public engagement and education</a></li>
                                        
                                    </ul>
                                </li>
                            
                        
                            
                                
                                <li class="has-children">
                                    <a href="#" class="nav-link">Team&nbsp;&nbsp;</a>
                                    <ul class="dropdown">
                                        
                                            <li><a href="../Team" class="nav-link">Team</a></li>
                                        
                                            <li><a href="../Attributions" class="nav-link">Attributions</a></li>
                                        
                                            <li><a href="../Collaborations" class="nav-link">Collaborations</a></li>
                                        
                                            <li><a href="../Sponsors" class="nav-link">Sponsors</a></li>
                                        
                                    </ul>
                                </li>
                            
                        
                            
                                
                                <li class="has-children">
                                    <a href="#" class="nav-link">Awards&nbsp;&nbsp;</a>
                                    <ul class="dropdown">
                                        
                                            <li><a href="../Model" class="nav-link">Model</a></li>
                                        
                                            <li><a href="../Human_Practices" class="nav-link">Human practices</a></li>
                                        
                                            <li><a href="../Sustainable" class="nav-link">Sustainability</a></li>
                                        
                                            <li><a href="../Entrepreneurship" class="nav-link">Entrepreneurship</a></li>
                                        
                                    </ul>
                                </li>
                            
                        
                    </ul>
                </nav>
            </div>

            
            <div class="col-6 d-inline-block d-xl-none ml-md-0 py-3" style="position: relative; top: 3px">
                <a href="#" class="site-menu-toggle js-menu-toggle float-right">
                    <span class="fas fa-bars"></span>
                </a>
            </div>
        </div>
    </div>
</header>

        <div class="content-wrapper">
            


<section id="hero" class="parallax-window" data-parallax="scroll" data-speed="0.4"
    data-image-src="../assets/content/model/splash_back.png">
    <div id="hero_fore" style="background-image: url('/assets/content/model/splash_fore.png');"></div>
</section>

            
<section id="hugo-content-wrapper">


    
    
    
    
    
        <script src="../js/sidebarScrollPath.js" defer></script>
        
        <div class="row">
            
            <section id="sidebar" class="col-auto">
                <div class="toc-wrapper content-page">
                    
                        <h3><a href="#">Model</a></h3>
                    
                    <nav id="TableOfContents">
  <ul>
    <li><a href="#modelling-the-spread-of-antibiotic-resistance">Modelling the spread of antibiotic resistance</a>
      <ul>
        <li><a href="#introduction">Introduction</a></li>
        <li><a href="#implementation">Implementation</a></li>
        <li><a href="#context">Context</a></li>
        <li><a href="#discussion-of-the-model">Discussion of the model</a></li>
      </ul>
    </li>
    <li><a href="#modelling-with-copasi">Modelling with COPASI</a></li>
    <li><a href="#references">References</a></li>
  </ul>
</nav>
                    <svg class="toc-marker" width="200" height="200" xmlns="http://www.w3.org/2000/svg">
                        <path stroke="#444" stroke-width="3" fill="transparent" stroke-dasharray="0, 0, 0, 1000"
                            stroke-linecap="round" stroke-linejoin="round" transform="translate(-0.5, -0.5)" />
                    </svg>
                </div>
            </section>
            
            <section id="hugo-content" class="col">
                
                
                    <div class="content-page">
                        <h2 id="summary">Summary</h2>
                        We used modelling in two ways during the course of our project. The first was a custom computer simulation of how our product may perform in the real world, and the second was using a tool called COPASI to simulate biological systems to better inform our wet lab experiments.
                    </div>
                

                
                <div class="content-page">
                    <h2 id="modelling-the-spread-of-antibiotic-resistance">Modelling the spread of antibiotic resistance</h2>
<p>To show that our proposed product would positively benefit the environment where it is proposed to be used, we wrote a computer model of the environment, with and without the product in use, and showed that when it is in use, the model scenario result improved.</p>
<h3 id="introduction">Introduction</h3>
<p>In our case, this involved modelling the spread of an antibiotic resistant bacteria in a hospital, with and without our diagnostic tool for quickly identifying it, and showing that the rates of infection, recovery and death improve.</p>
<p>The purpose of the model is two-fold:</p>
<ul>
<li>Demonstrating that our product is beneficial</li>
<li>Understanding the use cases where it is most and least applicable</li>
</ul>
<h4 id="toy-implementation">Toy implementation</h4>
<p>In order to demonstrate the model without requiring users to download the source code and its dependent libraries, then run it through python, we transpiled it into Javascript, so it can be run in the browser. This interactive transpiled model can be used below to demonstrate how parameters changes can affect the model outcome. Then, in the context section, we identify the parameters for the model which match it to the real world to show our product will work. In practice, having a toy model with interactive variables isn&rsquo;t especially rigorous, but it does help show the power of the model, and how it can model vastly different scenarios.</p>



<div class="text-center">
    <canvas id="line-chart"></canvas>


    <div class="read_more">
        <div class="read_more_small" style="height: 15em;">
            <button type="button" onclick="run_and_render()">
                <h2>Run the model</h2>
            </button>
            <p id="loading_text" style="display: none;">Model running - this may take a couple of seconds, and possibly
                cause
                the page to hang. It runs locally on your machine, so older computers may struggle with long simulation
                runs or
                high populations</p>
            <p id="error_text" style="display: none; color: red;">An error occurred running the model</p>


            <table class="parameter-inputs">
                <tr>
                    <th>
                        <h3>Constants</h3>
                    </th>
                    <th>
                        <h3>Probabilities</h3>
                    </th>
                </tr>
                <tr>
                    <td>
                        <input class="checkboxInput" id="product_in_use_checkbox" type="checkbox">
                        <br><button
                            onclick="model.Params.PRODUCT_IN_USE = document.getElementById('product_in_use_checkbox').checked">
                            Set whether the product is in use</button>
                    </td>
                    <td>
                        <input class="sliderInput" id="probability_product_detect_slider" type="range" min="0" max="1"
                            value="0.9" step="0.01"
                            oninput="probability_product_detect_text.value=probability_product_detect_slider.value" />
                        <input class="textInput" id="probability_product_detect_text" type="number" value="0.9" min="0"
                            max="1" step="0.01"
                            oninput="probability_product_detect_slider.value=probability_product_detect_text.value" />
                        <br><button
                            onclick="model.Params.PROBABILIY_PRODUCT_DETECT = parseFloat(document.getElementById('probability_product_detect_text').value)">
                            Set the probability the product works</button>
                    </td>
                </tr>
                <tr>
                    <td>
                        
                        <input class="sliderInput" id="num_timesteps_slider" type="range" min="5" max="200" value="50"
                            oninput="num_timesteps_text.value=num_timesteps_slider.value" />
                        <input class="textInput" id="num_timesteps_text" type="number" value="50" min="5" max="200"
                            oninput="num_timesteps_slider.value=num_timesteps_text.value" />
                        <br><button
                            onclick="model.Params.NUM_TIMESTEPS = parseInt(document.getElementById('num_timesteps_slider').value)">
                            Set the number of timesteps</button>
                    </td>
                    <td>
                        
                        <input class="sliderInput" id="probability_general_recovery_slider" type="range" min="0" max="1"
                            step="0.01" value="0.01"
                            oninput="probability_general_recovery_text.value=probability_general_recovery_slider.value" />
                        <input class="textInput" id="probability_general_recovery_text" type="number" value="0.01"
                            min="0" max="1" step="0.01"
                            oninput="probability_general_recovery_slider.value=probability_general_recovery_text.value" />
                        <br><button
                            onclick="model.Params.PROBABILITY_GENERAL_RECOVERY = parseFloat(document.getElementById('probability_general_recovery_text').value)">
                            Set the probability of general recovery</button>
                    </td>
                </tr>
                <tr>
                    <td>
                        <input class="sliderInput" id="population_size_slider" type="range" min="50" max="10000"
                            step="50" value="1000" oninput="population_size_text.value=population_size_slider.value" />
                        <input class="textInput" id="population_size_text" type="number" value="1000" min="50"
                            max="10000" oninput="population_size_slider.value=population_size_text.value" />
                        <br><button
                            onclick="model.Params.POPULATION_SIZE = parseInt(document.getElementById('population_size_slider').value)">
                            Set the population size</button>
                    </td>
                    <td>
                        <input class="sliderInput" id="probability_treatment_recovery_slider" type="range" min="0"
                            max="1" value="0.2" step="0.01"
                            oninput="probability_treatment_recovery_text.value=probability_treatment_recovery_slider.value" />
                        <input class="textInput" id="probability_treatment_recovery_text" type="number" value="0.2"
                            min="0" max="1" step="0.01"
                            oninput="probability_treatment_recovery_slider.value=probability_treatment_recovery_text.value" />
                        <br><button
                            onclick="model.Params.PROBABILITY_TREATMENT_RECOVERY = parseFloat(document.getElementById('probability_treatment_recovery_text').value)">
                            Set the probability of treatment recovery</button>
                    </td>
                </tr>
                <tr>
                    <td>
                        <input class="sliderInput" id="num_resistance_types_slider" type="range" min="1" max="5"
                            value="3" oninput="num_resistance_types_text.value=num_resistance_types_slider.value" />
                        <input class="textInput" id="num_resistance_types_text" type="number" value="3" min="1" max="5"
                            oninput="num_resistance_types_slider.value=num_resistance_types_text.value" />
                        <br><button
                            onclick="model.Params.NUM_RESISTANCE_TYPES = parseInt(document.getElementById('num_resistance_types_slider').value)">
                            Set the number of resistance types</button>
                    </td>
                    <td>
                        <input class="sliderInput" id="probability_mutation_slider" type="range" min="0" max="1"
                            value="0.02" step="0.01"
                            oninput="probability_mutation_text.value=probability_mutation_slider.value" />
                        <input class="textInput" id="probability_mutation_text" type="number" value="0.02" min="0"
                            max="1" step="0.01"
                            oninput="probability_mutation_slider.value=probability_mutation_text.value" />
                        <br><button
                            onclick="model.Params.PROBABILITY_MUTATION = parseFloat(document.getElementById('probability_mutation_text').value)">
                            Set the probability of mutation</button>
                    </td>
                </tr>
                <tr>
                    <td>
                        <input class="sliderInput" id="timesteps_move_up_lag_time_slider" type="range" min="0" max="25"
                            value="5"
                            oninput="timesteps_move_up_lag_time_text.value=timesteps_move_up_lag_time_slider.value" />
                        <input class="textInput" id="timesteps_move_up_lag_time_text" type="number" value="5" min="0"
                            max="25"
                            oninput="timesteps_move_up_lag_time_slider.value=timesteps_move_up_lag_time_text.value" />
                        <br><button
                            onclick="model.Params.TIMESTEPS_MOVE_UP_LAG_TIME = parseInt(document.getElementById('timesteps_move_up_lag_time_slider').value)">
                            Set the time lag before increasing treatment</button>
                    </td>
                    <td>
                        <input class="sliderInput" id="probability_move_up_treatment_slider" type="range" min="0"
                            max="1" value="0.8" step="0.01"
                            oninput="probability_move_up_treatment_text.value=probability_move_up_treatment_slider.value" />
                        <input class="textInput" id="probability_move_up_treatment_text" type="number" value="0.8"
                            min="0" max="1" step="0.01"
                            oninput="probability_move_up_treatment_slider.value=probability_move_up_treatment_text.value" />
                        <br><button
                            onclick="model.Params.PROBABILITY_MOVE_UP_TREATMENT = parseFloat(document.getElementById('probability_move_up_treatment_text').value)">
                            Set the probability of moving up treatment</button>
                    </td>
                </tr>
                <tr>
                    <td>
                        <input class="sliderInput" id="isolation_threshold_slider" type="range" min="0" max="5"
                            value="2" oninput="isolation_threshold_text.value=isolation_threshold_slider.value" />
                        <input class="textInput" id="isolation_threshold_text" type="number" value="2" min="0" max="5"
                            oninput="isolation_threshold_slider.value=isolation_threshold_text.value" />
                        <br><button
                            onclick="model.Params.ISOLATION_THRESHOLD = parseInt(document.getElementById('isolation_threshold_slider').value)">
                            Set the resistance level to start isolating</button>
                    </td>
                    <td>
                        <input class="sliderInput" id="probability_death_slider" type="range" min="0" max="1"
                            value="0.01" step="0.01"
                            oninput="probability_death_text.value=probability_death_slider.value" />
                        <input class="textInput" id="probability_death_text" type="number" value="0.01" min="0" max="1"
                            step="0.01" oninput="probability_death_slider.value=probability_death_text.value" />
                        <br><button
                            onclick="model.Params.PROBABILITY_DEATH = parseFloat(document.getElementById('probability_death_text').value)">
                            Set the probability of death</button>
                    </td>
                </tr>
                <tr>
                    <td>
                        <input class="sliderInput" id="num_spread_to_slider" type="range" min="0" max="15" value="2"
                            oninput="num_spread_to_text.value=num_spread_to_slider.value" />
                        <input class="textInput" id="num_spread_to_text" type="number" value="2" min="0" max="15"
                            oninput="num_spread_to_slider.value=num_spread_to_text.value" />
                        <br><button
                            onclick="model.Params.NUM_SPREAD_TO = parseInt(document.getElementById('num_spread_to_slider').value)">
                            Set the number of people spread to</button>
                    </td>
                    <td>
                        <input class="sliderInput" id="probability_spread_slider" type="range" min="0" max="1" value="1"
                            step="0.01" oninput="probability_spread_text.value=probability_spread_slider.value" />
                        <input class="textInput" id="probability_spread_text" type="number" value="1" min="0" max="1"
                            step="0.01" oninput="probability_spread_slider.value=probability_spread_text.value" />
                        <br><button
                            onclick="model.Params.PROBABILITY_SPREAD = parseFloat(document.getElementById('probability_spread_text').value)">
                            Set the probability of spreading</button>
                    </td>
                </tr>
            </table>
            

        </div>
        <a href="#">Click to show the interactive parameters</a>
    </div>
</div>



<script type="text/javascript" src="../js/chart.min.js"></script>

<script type="module">import * as model from '/js/model/model_v3_in.js'; window.model = model;</script>

<script>
    
    var ctx = document.getElementById("line-chart");
    
    var options = {
        title: {
            display: true,
            text: 'Spread of an antibiotic infection through a population'
        },
        scales: {
            xAxes: [{
                ticks: {
                    autoSkip: true,
                    maxTicksLimit: 20
                },
                scaleLabel: {
                    display: true,
                    labelString: 'Time / timesteps'
                }
            }],
            yAxes: [{
                scaleLabel: {
                    display: true,
                    labelString: '# people'
                }
            }]
        }
    };

    
    var chart = new Chart(ctx, {
        type: 'line',
        data: [],
        options: options
    });

    async function run_and_render() {
        
        document.getElementById('loading_text').style.display = "block";
        await new Promise(r => setTimeout(r, 100));

        try {
            
            var dataset = window.model.run();
            
            
            chart.destroy()
            chart = new Chart(ctx, {
                type: 'line',
                data: dataset,
                options: options
            });
            
            document.getElementById('error_text').style.display = "none";
        } catch (err) {
            
            document.getElementById('error_text').style.display = "block";
        }

        
        document.getElementById('loading_text').style.display = "none";

    }
</script>

<h4 id="model-type">Model type</h4>
<p>Our model is discrete time, stochastic, and compartmental:</p>
<ul>
<li>
<p>Compartmental means that the model is expressed in terms of the transitions between a set of states. The logic for these transitions forms a fundamental part of the model</p>
</li>
<li>
<p>Stochastic means that the model is based on random probabilities, as opposed to a deterministic system of equations</p>
<ul>
<li>A set of constant probabilities define the properties of the model</li>
<li>Transitions between states are chosen randomly with these constant probabilities</li>
</ul>
<p>Below shows code for a default setting of these probabilities, the meaning of which will be explained further on:</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># General</span>
NUM_TIMESTEPS <span style="color:#f92672">=</span> <span style="color:#ae81ff">50</span>
POPULATION_SIZE <span style="color:#f92672">=</span> <span style="color:#ae81ff">5000</span>
NUM_RESISTANCE_TYPES <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>
<span style="color:#75715e"># Recovery generally or by treatment</span>
PROBABILITY_GENERAL_RECOVERY <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.01</span>
PROBABILITY_TREATMENT_RECOVERY <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.2</span>
<span style="color:#75715e"># Mutation to higher resistance due to treatment</span>
PROBABILITY_MUTATION <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.02</span>
PROBABILITY_MOVE_UP_TREATMENT <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.8</span>
TIMESTEPS_MOVE_UP_LAG_TIME <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>
ISOLATION_THRESHOLD <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>
<span style="color:#75715e"># Death</span>
PROBABILITY_DEATH <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.01</span>
<span style="color:#75715e"># Spreading</span>
PROBABILITY_SPREAD <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
NUM_SPREAD_TO <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
<span style="color:#75715e"># Whether our product is used in the simulation</span>
PRODUCT_IN_USE <span style="color:#f92672">=</span> <span style="color:#66d9ef">True</span>
PROBABILIY_PRODUCT_DETECT <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>
PRODUCT_DETECTION_LEVEL <span style="color:#f92672">=</span> ISOLATION_THRESHOLD
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>Discrete time means that changes in the model occur at granular timesteps - like turns in a boards game</p>
<p>Below shows the code for how operations are performed on every person in the population each timestep, and data about them recorded</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># Make a new data handler for each simulation</span>
self<span style="color:#f92672">.</span>data_handler<span style="color:#f92672">.</span>__init__()

<span style="color:#75715e"># Repeat the simulation for a set number of timesteps</span>
<span style="color:#66d9ef">for</span> _ <span style="color:#f92672">in</span> range(NUM_TIMESTEPS):

    <span style="color:#75715e"># For each person in the population</span>
    <span style="color:#66d9ef">for</span> person <span style="color:#f92672">in</span> self<span style="color:#f92672">.</span>population:

        <span style="color:#75715e"># Record the data throughout the model</span>
        self<span style="color:#f92672">.</span>data_handler<span style="color:#f92672">.</span>record_person(person)
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<p>The model essentially is a modification of the standard SIR model for epidemic disease, adding more &ldquo;compartments&rdquo; for additional states people can take, when they are infected with increasingly antibiotic resistant pathogens.</p>
<div class="text-center">
    
    
    <img src="../assets/content/model/SIR_graph.png" alt="A diagram of the SIR model" decoding="async"/>
    
    
        <p class="hugo-figure-caption">A diagram of the SIR model [1]</p>
    
</div>



</div>

<div class="content-page">

<h3 id="implementation">Implementation</h3>
<p>The key features of the model can be split up into five semi-distinct sections:</p>
<h4 id="1-pathogen-and-people">1. Pathogen and people</h4>
<p>A pathogen with a probability of death and a probability of recovery spreads through the population.</p>
<ul>
<li>
<p>Patients have a small chance of recovering by themselves, or can be treated with antibiotics, which have a larger chance of curing them</p>
</li>
<li>
<p>Different strains of the pathogen exist, which are resistant to different antibiotics</p>
</li>
<li>
<p>Pathogens can mutate to more resistant strains in specific circumstances explained in the mutation section</p>
</li>
<li>
<p>When they have recovered, they become immune to the all strains of the pathogen irrespective to their resistances</p>
</li>
<li>
<p>Patients also have a small chance of dying due to the pathogen</p>
</li>
</ul>
<p>Hence, patients can be in any of the disjoint states: uninfected, infected (possibly with resistance), immune, or dead.</p>
<p>In the limit of time to infinity, all individuals will be either uninfected, immune or dead, as they will all either not be infected in the first place, or recover or die from the pathogen.</p>
<div class="text-center">
    
    
    <img src="../assets/content/model/general.PNG" alt="General state transition diagram" decoding="async"/>
    
    
        <p class="hugo-figure-caption">The state transition diagram of every state a person within the population can take (for reasons discussed later in the treatment section, pathogenic resistances to antibiotics will occur in a set order)</p>
    
</div>

<div class="text-center">
    
    
    <img src="../assets/content/model/specific_none.png" alt="Specific state transition diagram" decoding="async"/>
    
    
        <p class="hugo-figure-caption">The state transition diagram of a person centred around the state of being infected with a pathogen resistant to antibiotic $n$ in the precedence of antibiotics</p>
    
</div>



</div>

<div class="content-page">

<h4 id="2-treatment-and-mutation">2. Treatment and mutation</h4>
<p>Antibiotics are used in a specific order, which are numbered accordingly for clarity (with $1$ being the first administered, and $n$ being the last for antibiotics $1..n$ ). This is to simulate the real-world, where different antibiotics are used in a tiered system, reserving the last for highly dangerous, multi-drug resistant pathogens - and is an important aspect of our model, as our product attempts to identify CRE, which are a type of these resistant pathogens.</p>
<p>Pathogens have a small chance of mutating to develop resistance to antibiotics being used to treat them, as such strains will only become dominant when there is a pressure giving them a survival advantage.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># Mutation to higher resistance due to treatment</span>
<span style="color:#66d9ef">if</span> decision(PROBABILITY_MUTATION):
    person<span style="color:#f92672">.</span>mutate_infection()
</code></pre></td></tr></table>
</div>
</div><div class="text-center">
    
    
    <img src="../assets/content/model/specific_mutation.png" alt="Specific state transition diagram with mutation explanation" decoding="async"/>
    
    
        <p class="hugo-figure-caption">The same specified state transition diagram used above, with additional information about the mutation step to elucidate it</p>
    
</div>

<p>The pathogen is modelled as being immediately symptomatic, meaning doctors can immediately identify a patient is infected with it, but they cannot quickly identify whether or not they have a resistant strain if our product is not in use.</p>
<p>Once a person becomes infected, treatment with the lowest tier of antibiotics becomes immediately, as they are immediately symptomatic.</p>
<p>If the pathogen is resistant to the antibiotic, the patient still has the opportunity to make a recovery on their own, but the antibiotic will have no effect, whereas if the pathogen is not, the patient has the opportunity to recover both on their own, and via the antibiotic - increasing their likelihood of recovery each timestep.</p>
<p>Since multiple antibiotics are used in a tiered system, there must be a mechanism to move to a higher antibiotic.</p>
<p>There are a number of days which can be set as a parameter for the model, before which the same antibiotic will be used, then after this is exceeded a probability parameter is used each day to decide whether they will me moved up to a higher treatment tier.</p>
<p>With our product, since it provides a fast testing mechanism for highly resistant strains, patients can be detected as having the resistant strain, and immediately moved up to the required higher treatment</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># Move up in treatment class if needed</span>
<span style="color:#66d9ef">if</span> person<span style="color:#f92672">.</span>treatment <span style="color:#f92672">is</span> <span style="color:#66d9ef">None</span>:
    <span style="color:#75715e"># If the person is infected but are not being treated</span>
    <span style="color:#75715e"># with **anything**, start them on the lowest tier</span>
    <span style="color:#75715e"># treatment (we can know that the person is infected,</span>
    <span style="color:#75715e"># but not which tier they are on, without diagnostic</span>
    <span style="color:#75715e"># tools, as we can see they are sick)</span>
    person<span style="color:#f92672">.</span>treatment <span style="color:#f92672">=</span> Treatment()
<span style="color:#66d9ef">else</span>:
    <span style="color:#75715e"># If the person has been treated for a number of</span>
    <span style="color:#75715e"># consecutive days with the, a certain probability is</span>
    <span style="color:#75715e"># exceeded, move them up a treatment tier</span>
    time_cond <span style="color:#f92672">=</span> person<span style="color:#f92672">.</span>treatment<span style="color:#f92672">.</span>time_treated <span style="color:#f92672">&gt;</span> TIMESTEPS_MOVE_UP_LAG_TIME
    rand_cond <span style="color:#f92672">=</span> decision(PROBABILITY_MOVE_UP_TREATMENT)
    <span style="color:#66d9ef">if</span> time_cond <span style="color:#f92672">and</span> rand_cond:
        person<span style="color:#f92672">.</span>increase_treatment()

    <span style="color:#66d9ef">if</span> PRODUCT_IN_USE <span style="color:#f92672">and</span> decision(PROBABILIY_PRODUCT_DETECT):
        <span style="color:#75715e"># If the product is in use, and it detects the</span>
        <span style="color:#75715e"># infection (which occurs a certain probability of</span>
        <span style="color:#75715e"># the time) immediately isolate this with the</span>
        <span style="color:#75715e"># resistance</span>


        <span style="color:#75715e"># If the person is known to have a resistance that</span>
        <span style="color:#75715e"># is higher than their treatment, increase their</span>
        <span style="color:#75715e"># treatment</span>
        <span style="color:#66d9ef">if</span> person<span style="color:#f92672">.</span>treatment<span style="color:#f92672">.</span>drug <span style="color:#f92672">&lt;</span> str(PRODUCT_DETECTION_LEVEL):
            person<span style="color:#f92672">.</span>treatment<span style="color:#f92672">.</span>drug <span style="color:#f92672">=</span> str(PRODUCT_DETECTION_LEVEL)
</code></pre></td></tr></table>
</div>
</div>

</div>

<div class="content-page">

<h4 id="3-spread">3. Spread</h4>
<p>Disease can spread from infected patients to uninfected patients, and patients with a less resistant strain. The likelihood of this occurring, and the number of people spread to each time can be controlled as parameters</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># Spread the infection strains throughout the population</span>
<span style="color:#75715e"># We need a deepcopy operation, to prevent someone who has just</span>
<span style="color:#75715e"># been spread to in this timestep spreading the thing they&#39;ve</span>
<span style="color:#75715e"># just received, so technically don&#39;t have yet</span>
updated_population <span style="color:#f92672">=</span> deepcopy(self<span style="color:#f92672">.</span>population)
<span style="color:#66d9ef">for</span> person <span style="color:#f92672">in</span> self<span style="color:#f92672">.</span>population:
    <span style="color:#66d9ef">if</span> person<span style="color:#f92672">.</span>infection <span style="color:#f92672">is</span> <span style="color:#f92672">not</span> <span style="color:#66d9ef">None</span> <span style="color:#f92672">and</span> decision(PROBABILITY_SPREAD):
        <span style="color:#66d9ef">for</span> receiver <span style="color:#f92672">in</span> sample(updated_population, NUM_SPREAD_TO):
            person<span style="color:#f92672">.</span>spread_infection(receiver)
self<span style="color:#f92672">.</span>population <span style="color:#f92672">=</span> updated_population[:]
</code></pre></td></tr></table>
</div>
</div>

</div>

<div class="content-page">

<h4 id="4-isolation">4. Isolation</h4>
<p>Patients can be put into isolation, preventing the spreading the disease. This is the main place where the our product differentiates itself.</p>
<p>Without our product, a person is put in isolation when they exceed a threshold of <strong>treatment</strong></p>
<p>With our product, as the pathogen can be detected, they are put into isolation when they exceed a threshold of <strong>having the resistant strain</strong></p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">if</span> PRODUCT_IN_USE <span style="color:#f92672">and</span> decision(PROBABILIY_PRODUCT_DETECT):
    <span style="color:#75715e"># If the product is in use, and it detects the</span>
    <span style="color:#75715e"># infection (which occurs a certain probability of</span>
    <span style="color:#75715e"># the time) immediately isolate this with the</span>
    <span style="color:#75715e"># resistance</span>

    <span style="color:#66d9ef">if</span> person<span style="color:#f92672">.</span>infection<span style="color:#f92672">.</span>resistances[str(PRODUCT_DETECTION_LEVEL)]:
        person<span style="color:#f92672">.</span>isolate()

<span style="color:#66d9ef">if</span> int(person<span style="color:#f92672">.</span>treatment<span style="color:#f92672">.</span>drug) <span style="color:#f92672">&gt;=</span> ISOLATION_THRESHOLD:
    <span style="color:#75715e"># Isolate if in high enough treatment class (which</span>
    <span style="color:#75715e"># is not the same as infection class - this will</span>
    <span style="color:#75715e"># likely lag behind)</span>
    person<span style="color:#f92672">.</span>isolate()

<span style="color:#75715e"># Increment the number of times a person has been</span>
<span style="color:#75715e"># treated with the drug</span>
person<span style="color:#f92672">.</span>treatment<span style="color:#f92672">.</span>time_treated <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</code></pre></td></tr></table>
</div>
</div><div class="text-center">
    
    
    <img src="../assets/content/model/specific_isolation.png" alt="Specific state transition diagram with isolation explanation" decoding="async"/>
    
    
        <p class="hugo-figure-caption">The same specified state transition diagram used above, with additional information about the isolation step to elucidate it</p>
    
</div>



</div>

<div class="content-page">

<h4 id="5-recovery-and-death">5. Recovery and death</h4>
<p>As discussed in section (1), each timestep, patients can recover (either naturally or via treatment), and patients can die.</p>
<p>Recovery makes the patients immune, meaning they cannot be infected again, essentially removing them from the system. Death also essentially removes patients from the system, as there cannot be any more state changes after death.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># Recovery generally or by treatment if currently infected</span>
general_recovery <span style="color:#f92672">=</span> decision(PROBABILITY_GENERAL_RECOVERY)
treatment_recovery <span style="color:#f92672">=</span> (person<span style="color:#f92672">.</span>correct_treatment() <span style="color:#f92672">and</span>
                    decision(PROBABILITY_TREATMENT_RECOVERY))
<span style="color:#66d9ef">if</span> general_recovery <span style="color:#f92672">or</span> treatment_recovery:
    person<span style="color:#f92672">.</span>recover_from_infection()

<span style="color:#75715e"># Deaths due to infection</span>
<span style="color:#66d9ef">if</span> decision(PROBABILITY_DEATH):
    person<span style="color:#f92672">.</span>die()
</code></pre></td></tr></table>
</div>
</div><p>The goal is to create a situation where in the limit of time, the number of uninfected and immune people is maximised, and the number of dead people is minimised.</p>


</div>

<div class="content-page">

<h3 id="context">Context</h3>
<p>Due to the flexibility of the model, its parameters can be adjusted to simulate the spread of many real-world diseases. Adding such context to the model helps us better understand better how our product could improve the situation in such scenarios. Here we have chosen to use Neo-natal Bacterial Meningitis as an example. The disease can easily be spread within hospitals by medical staff and often has a deadly outcome [2], all of which can be simulated in the model. Furthermore, since the last line of treatment of meropenem, a carbapenem, it is relevant to the use of our product.</p>
<p>The parameters of the model have hence been adjusted because:</p>
<ol>
<li>
<p>NBM has two lines of treatment (amoxicillin + cefotaxime/ceftriaxone, then meropenem) [3], the model has two levels of treatment and corresponding resistance levels.</p>
</li>
<li>
<p>There is a 100% mortality rate of untreated NBM [4], there is no chance of recovery if the pathogen is resistant against the current antibiotic in use.</p>
</li>
<li>
<p>There is 40% overall mortality [4] , parameters have been adjusted to end up with a 40% mortality rate</p>
</li>
</ol>


</div>

<div class="content-page">

<h3 id="discussion-of-the-model">Discussion of the model</h3>
<p>Some common questions about the model are answered below:</p>
<ul>
<li>
<p>Q. Is the model realistic</p>
<p>A. No, very little about it is realistic. It is an abstraction of the real world which discards many unnecessary complexities, in order to simply and efficiently model how resistance spreads and is combatted. It is not viable to make a wholly realistic model, as this inevitable turns into a &ldquo;hospital simulator&rdquo;, and would be too complex to design, and take too long to run on current computers.</p>
</li>
<li>
<p>Q. Is the model useful</p>
<p>A. Yes, because it provides several helpful insights:</p>
<ul>
<li>The impact our product will have on the spread of resistance just by quickly detecting who to put into isolation</li>
<li>Whether higher or lower mortality or transmissibility of a disease increase or decrease the effectiveness</li>
</ul>
</li>
<li>
<p>Q. What potential improvements are there</p>
<p>A. It would be possible to add additional features to the model to make it more realistic, for example:</p>
<ul>
<li>Spatial considerations â€“ e.g. modelling multiple wards with movement between them</li>
<li>Asymptomatic transmission periods of infection</li>
</ul>
<p>however, these are beyond the scope of our project</p>
</li>
<li>
<p>How does the model compare to other existent ones</p>
</li>
<li>
<p>Q. Can the model be applied to current issues, i.e. the COVID pandemic</p>
<p>A. Since the model is a very generic abstraction of the real world, by adjusting it&rsquo;s parameters, a vast amount of different scenarios can be modelled. The key issue in adapting it to different scenarios is if they fit the inherent logic and states hard-coded into it. Since COVID is a viral infection, as opposed to a bacterial infection, antibiotics cannot be used to treat it, so the tiered system of antibiotic uses fits less cleanly to it, however, they could instead be considered as increasingly aggressive treatment options, to which it also grows resistant. However, the logic around our product would not apply, as viral infections are not affected by carbapenem, which is the antibiotic we focus on.</p>
</li>
</ul>


</div>

<div class="content-page">

<h2 id="modelling-with-copasi">Modelling with COPASI</h2>


</div>

<div class="content-page">

<h2 id="references">References</h2>
<p>[1] Simon, Cory M., 2020. <em>The SIR dynamic model of infectious disease transmission and its analogy with chemical kinetics</em>. Available at <a href="https://peerj.com/articles/pchem-14/">https://peerj.com/articles/pchem-14/</a> [Accessed 27 September 2021]. DOI: 10.7717/peerj-pchem.14</p>
<p>[2] Åžah Ä°pek, M., 2019. <em>Neonatal Bacterial Meningitis</em>. [online] IntechOpen. Available at: <a href="https://www.intechopen.com/chapters/68042">https://www.intechopen.com/chapters/68042</a>. DOI: 10.5772/intechopen.87118</p>
<p>[3] Meningitis Research Foundation, 2017. <em>Management of Bacterial Meningitis in infants &lt;3 months</em>. Available at: <a href="https://www.meningitis.org/getmedia/75ce0638-a815-4154-b504-b18c462320c8/Neo-Natal-Algorithm-Nov-2017">https://www.meningitis.org/getmedia/75ce0638-a815-4154-b504-b18c462320c8/Neo-Natal-Algorithm-Nov-2017</a> [pdf]</p>
<p>[4] Tesini, B., 2020. <em>Neonatal Bacterial Meningitis</em>. [online] MSD Manual Professional Edition. Available at: <a href="https://www.msdmanuals.com/en-gb/professional/pediatrics/infections-in-neonates/neonatal-bacterial-meningitis">https://www.msdmanuals.com/en-gb/professional/pediatrics/infections-in-neonates/neonatal-bacterial-meningitis</a> [Accessed 23 September 2021].</p>

                </div>
            </section>
        </div>
    

</section>

        </div>

        <footer id="footer" role="contentinfo">
    <div class="container">

        
        <div id="sponsor-logos">
            <img src="../assets/images/sponsors.png" alt="Sponsors">
        </div>

        
        <div id="contact-info" class="text-center">
            <a href="https://twitter.com/warwickigem" class="icon-button twitter">
                <i class="fab fa-twitter"></i><span></span>
            </a>
            <a href="https://www.instagram.com/igem_warwick" class="icon-button instagram">
                <i class="fab fa-instagram"></i><span></span>
            </a>
            <a href="https://www.facebook.com/WarwickIGEM" class="icon-button facebook">
                <i class="fab fa-facebook"></i><span></span>
            </a>
            <a href="mailto:igem@warwick.ac.uk" class="icon-button email">
                <i class="fa fa-envelope"></i><span></span>
            </a>
            <a href="https://warwick.ac.uk/" class="icon-button home">
                <i class="fa fa-home"></i><span></span>
            </a>
        </div>


        
        <div id="licensing">
            <div class="row">
                <div class="col-sm">
                    &copy; 2021 - Warwick iGEM CREscent, all rights reserved
                </div>
                <div class="col-sm">
                    Website content under <a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" class="license-image" src="../assets/images/CC_BY_License.png"/></a>
                </div>
                <div class="col-sm">
                    Website generator theme under <a rel="license" href="https://opensource.org/licenses/MIT"><img alt="MIT License" class="license-image" src="../assets/images/MIT_logo.svg" /></a>
                </div>
            </div>
        </div>
    </div>
</footer>


    </body>

    
<div id="globalWrapper" style="display: none;">
<div id="content">
<div id="HQ_page">
<div id="bodyContent">
<div id="mw-content-text">
<p>


</html>
